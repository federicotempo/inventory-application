<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StockFlow | Update Item</title>
  <link rel="stylesheet" href="/styles.css">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
</head>
<body>
  <header class="navbar">
    <div class="logo">
      <h1>
        <a href="/home" style="color: inherit; text-decoration: none"><%= user ? `${user.username}` : '' %> 📦</a>
      </h1>
    </div>
    <nav class="nav-links">
      <a href="/categories">
        <span class="text">Categories</span>
        <span class="icon">📋</span>
      </a>
      <a href="/items">
        <span class="text">Items</span>
        <span class="icon">🛠️</span>
      </a>
      <a href="/suppliers">
        <span class="text">Suppliers</span>
        <span class="icon">🏭</span>
      </a>
    </nav>
  </header>

  <main class="content">
    <h2 class="page-title">Update Item 🛠️</h2>
    <form action="/items/<%= item.id %>/update" method="POST" class="form">
      <div class="form-group">
        <label for="name">Item Name:</label>
        <input type="text" id="name" name="name" required maxlength="125" value="<%= item.name %>">
      </div>
      <div class="form-group">
        <label for="category">Category:</label>
        <select id="category" name="category_id" required>
          <% categories.forEach(category => { %>
            <option value="<%= category.id %>" 
                <%= category.id === item.category_id ? "selected" : "" %>>
                <%= category.name %>
              </option>
          <% }); %>
        </select>
      </div>
      <div class="form-group">
        <label for="supplier">Supplier:</label>
        <select id="supplier" name="supplier_id" required>
          <% suppliers.forEach(supplier => { %>
            <option value="<%= supplier.id %>" 
                <%= supplier.id === item.supplier_id ? "selected" : "" %>>
                <%= supplier.name %>
              </option>
          <% }); %>
        </select>
      </div>
      <div class="form-group">
        <label for="price">Price:</label>
        <input type="number" id="price" name="price" step="0.01" required min="0.01" value="<%= item.price %>">
      </div>
      <div class="form-group">
        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" name="quantity" step="1" required min="0" value="<%= item.quantity %>">
      </div>
      <div class="form-buttons">
        <a href="/items" class="btn back-btn">Go Back</a>
        <button type="submit" class="btn submit-btn">Update Item</button>
      </div>
    </form>
  </main>

  <footer>
    <p>&copy; 2025 StockFlow. All Rights Reserved.</p>
  </footer>
</body>
</html>